<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serviços de Xerox e Impressão</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #ffffff;
        }
        h1, h2 {
            color: #333;
            text-align: center;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: white;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        form {
            margin: 20px 0;
            padding: 20px;
            background-color: white;
            border: 1px solid #ddd;
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        input, select, button {
            margin-bottom: 10px;
            padding: 8px;
            width: 100%;
            max-width: 300px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        #reportsButton {
            display: block;
            margin: 20px auto;
            width: 200px;
        }
        .edit-btn, .delete-btn {
            padding: 5px 10px;
            margin: 0 5px;
            cursor: pointer;
        }
        .edit-btn {
            background-color: #ffa500;
        }
        .delete-btn {
            background-color: #f44336;
        }
    </style>
</head>
<body>
    <h1>Serviços de Xerox e Impressão de Documentos e Imagens</h1>
    <p>Bem-vindo ao nosso catálogo de serviços. Aqui estão alguns registros de opções disponíveis (focados em folhas A4):</p>
    
    <table>
        <thead>
            <tr>
                <th>Serviço</th>
                <th>Descrição</th>
                <th>Preço (aproximado)</th>
                <th>Tempo Estimado</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Xerox Preto e Branco</td>
                <td>Cópia de documentos em papel comum A4, alta qualidade.</td>
                <td>R$ 0,50 por folha</td>
                <td>5-10 minutos</td>
            </tr>
            <tr>
                <td>Xerox Colorido</td>
                <td>Cópia de documentos ou imagens em cores vibrantes, folha A4.</td>
                <td>R$ 1,00 por folha</td>
                <td>10-15 minutos</td>
            </tr>
            <tr>
                <td>Impressão de Documentos</td>
                <td>Impressão de arquivos digitais (PDF, Word) em papel A4.</td>
                <td>R$ 0,80 por folha</td>
                <td>5-10 minutos</td>
            </tr>
            <tr>
                <td>Impressão de Imagens</td>
                <td>Impressão de fotos ou imagens em alta resolução, folha A4.</td>
                <td>R$ 2,00 por folha</td>
                <td>15-20 minutos</td>
            </tr>
        </tbody>
    </table>
    
    <h2>Registro de Vendas</h2>
    <p>Use o formulário abaixo para cadastrar suas vendas de serviços. Elas serão salvas automaticamente e carregadas sempre que você abrir o site.</p>
    
    <form id="salesForm">
        <label for="service">Serviço:</label>
        <select id="service" required>
            <option value="">Selecione um serviço</option>
            <option value="Xerox Preto e Branco">Xerox Preto e Branco</option>
            <option value="Xerox Colorido">Xerox Colorido</option>
            <option value="Impressão de Documentos">Impressão de Documentos</option>
            <option value="Impressão de Imagens">Impressão de Imagens</option>
        </select>
        
        <label for="quantity">Quantidade (folhas):</label>
        <input type="number" id="quantity" min="1" required>
        
        <label for="totalPrice">Preço Total (R$):</label>
        <input type="number" id="totalPrice" step="0.01" required>
        
        <label for="date">Data da Venda:</label>
        <input type="date" id="date" required>
        
        <button type="submit" id="submitBtn">Cadastrar Venda</button>
    </form>
    
    <table id="salesTable">
        <thead>
            <tr>
                <th>Serviço</th>
                <th>Quantidade</th>
                <th>Preço Total (R$)</th>
                <th>Data</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            <!-- Vendas cadastradas aparecerão aqui -->
        </tbody>
    </table>
    
    <button id="reportsButton" onclick="window.location.href='relatorios.html'">Ir para Relatórios Mensais</button>
    
    <script>
        let editingIndex = -1; // Índice da venda sendo editada (-1 significa nova venda)
        let sales = JSON.parse(localStorage.getItem('sales')) || [];
        let nextId = sales.length > 0 ? Math.max(...sales.map(s => s.id || 0)) + 1 : 1; // ID incremental

        // Função para carregar vendas do Local Storage
        function loadSales() {
            const tableBody = document.querySelector('#salesTable tbody');
            tableBody.innerHTML = ''; // Limpar tabela
            sales.forEach((sale, index) => {
                const newRow = tableBody.insertRow();
                newRow.insertCell(0).textContent = sale.service;
                newRow.insertCell(1).textContent = sale.quantity;
                newRow.insertCell(2).textContent = sale.totalPrice;
                newRow.insertCell(3).textContent = sale.date;
                const actionsCell = newRow.insertCell(4);
                actionsCell.innerHTML = `
                    <button class="edit-btn" onclick="editSale(${index})">Editar</button>
                    <button class="delete-btn" onclick="deleteSale(${index})">Excluir</button>
                `;
            });
        }
        
        // Função para salvar vendas no Local Storage
        function saveSales() {
            localStorage.setItem('sales', JSON.stringify(sales));
        }
        
        // Carregar vendas ao abrir a página
        loadSales();
        
        // Função para editar venda
        function editSale(index) {
            const sale = sales[index];
            document.getElementById('service').value = sale.service;
            document.getElementById('quantity').value = sale.quantity;
            document.getElementById('totalPrice').value = sale.totalPrice;
            document.getElementById('date').value = sale.date;
            editingIndex = index;
            document.getElementById('submitBtn').textContent = 'Atualizar Venda';
        }
        
        // Função para excluir venda
        function deleteSale(index) {
            if (confirm('Tem certeza que deseja excluir esta venda?')) {
                sales.splice(index, 1);
                saveSales();
                loadSales();
            }
        }
        
        // Evento para cadastrar ou atualizar venda
        document.getElementById('salesForm').addEventListener('submit', function(event) {
            event.preventDefault();
            
            const service = document.getElementById('service').value;
            const quantity = document.getElementById('quantity').value;
            const totalPrice = document.getElementById('totalPrice').value;
            const date = document.getElementById('date').value;
            
            if (editingIndex >= 0) {
                // Atualizar venda existente
                sales[editingIndex] = { id: sales[editingIndex].id, service, quantity, totalPrice, date };
                editingIndex = -1;
                document.getElementById('submitBtn').textContent = 'Cadastrar Venda';
            } else {
                // Adicionar nova venda
                sales.push({ id: nextId++, service, quantity, totalPrice, date });
            }
            
            saveSales();
            loadSales();
            
            // Limpar formulário
            document.getElementById('salesForm').reset();
        });
    </script>
</body>
</html>

